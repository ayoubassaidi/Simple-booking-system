{% extends "accounts/dashboard_base.html" %}
{% block dashboard_content %}

<!-- Quick Stats -->
        <div class="stats-grid">
            <div class="stat-card primary">
                <div class="stat-icon">
                    <i class="bi bi-person-check"></i>
                </div>
                <h6>Account Status</h6>
                <p class="stat-value">Active</p>
            </div>

            <div class="stat-card success">
                <div class="stat-icon">
                    <i class="bi bi-calendar-check"></i>
                </div>
                <h6>Member Since</h6>
                <p class="stat-value">{{ date_joined|date:"M Y" }}</p>
            </div>

            <div class="stat-card warning">
                <div class="stat-icon">
                    <i class="bi bi-clock-history"></i>
                </div>
                <h6>Last Login</h6>
                <p class="stat-value">
                    {% if last_login %}
                        {{ last_login|date:"M d, Y" }}
                    {% else %}
                        First time!
                    {% endif %}
                </p>
            </div>

            <div class="stat-card info">
                <div class="stat-icon">
                    <i class="bi bi-bell"></i>
                </div>
                <h6>Notifications</h6>
                <p class="stat-value">0</p>
            </div>
        </div>

        <!-- Account Information -->
        <div class="main-section">
            <h4 class="section-title">
                <i class="bi bi-info-circle"></i>
                Account Information
            </h4>

            <ul class="info-list">
                <li>
                    <span class="info-label">
                        <i class="bi bi-person"></i>
                        Username
                    </span>
                    <span class="info-value">{{ username }}</span>
                </li>
                <li>
                    <span class="info-label">
                        <i class="bi bi-envelope"></i>
                        Email Address
                    </span>
                    <span class="info-value">{{ email }}</span>
                </li>
                <li>
                    <span class="info-label">
                        <i class="bi bi-shield-check"></i>
                        Account Type
                    </span>
                    <span class="badge-custom {% if user_type == 'User' %}bg-primary{% else %}bg-success{% endif %}">
                        {{ user_type }}
                    </span>
                </li>
                <li>
                    <span class="info-label">
                        <i class="bi bi-calendar-plus"></i>
                        Joined Date
                    </span>
                    <span class="info-value">{{ date_joined|date:"F d, Y" }}</span>
                </li>
                <li>
                    <span class="info-label">
                        <i class="bi bi-clock"></i>
                        Last Activity
                    </span>
                    <span class="info-value">
                        {% if last_login %}
                            {{ last_login|date:"F d, Y - g:i A" }}
                        {% else %}
                            This is your first login!
                        {% endif %}
                    </span>
                </li>

                {% if user_profile %}
                    <!-- Phone Number (Both User and Provider) -->
                    {% if user_profile.phone_number %}
                    <li>
                        <span class="info-label">
                            <i class="bi bi-telephone"></i>
                            Phone Number
                        </span>
                        <span class="info-value">{{ user_profile.phone_number }}</span>
                    </li>
                    {% endif %}

                    <!-- User-specific fields -->
                    {% if user_profile.user_type == 'user' %}
                        {% if user_profile.birthday %}
                        <li>
                            <span class="info-label">
                                <i class="bi bi-cake2"></i>
                                Birthday
                            </span>
                            <span class="info-value">{{ user_profile.birthday|date:"F d, Y" }}</span>
                        </li>
                        {% endif %}

                        {% if user_profile.address %}
                        <li>
                            <span class="info-label">
                                <i class="bi bi-geo-alt"></i>
                                Address
                            </span>
                            <span class="info-value">{{ user_profile.address }}</span>
                        </li>
                        {% endif %}
                    {% endif %}

                    <!-- Provider-specific fields -->
                    {% if user_profile.user_type == 'provider' %}
                        {% if user_profile.city %}
                        <li>
                            <span class="info-label">
                                <i class="bi bi-building"></i>
                                City
                            </span>
                            <span class="info-value">{{ user_profile.city }}</span>
                        </li>
                        {% endif %}

                        {% if user_profile.service_type %}
                        <li>
                            <span class="info-label">
                                <i class="bi bi-tools"></i>
                                Service Type
                            </span>
                            <span class="info-value">{{ user_profile.service_type }}</span>
                        </li>
                        {% endif %}

                        {% if user_profile.kvk_number %}
                        <li>
                            <span class="info-label">
                                <i class="bi bi-card-checklist"></i>
                                KVK Number
                            </span>
                            <span class="info-value">{{ user_profile.kvk_number }}</span>
                        </li>
                        {% endif %}

                        {% if user_profile.bio %}
                        <li style="display: block; padding: 20px 15px;">
                            <span class="info-label" style="display: block; margin-bottom: 10px;">
                                <i class="bi bi-chat-quote"></i>
                                Bio / About Services
                            </span>
                            <span class="info-value" style="display: block; line-height: 1.6; color: #495057;">
                                {{ user_profile.bio }}
                            </span>
                        </li>
                        {% endif %}
                    {% endif %}
                {% endif %}
            </ul>
        </div>
{% endblock %}
